<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <style>
        body, ul, li{
            margin: 0;
            padding: 0;
        }
        li{
            list-style: none;
            float: left;
            margin: 10px;
            width: 600px;
            height: 400px;
        }
    </style>
</head>
<body>
<ul>
    <li id="div1"></li>
    <li class="div2"></li>
    <li name="div3"></li>
    <li class="div4"></li>
    <li id="div5"></li>
</ul>
</body>
<script src="echarts.min.js"></script>
<script src="./index.js"></script>
<script>
    //解决charts变量冲突
    var ch = charts.noConflict();
    //设置柱形图的默认选项
    ch.setDefault("line");
    //传入数据生成柱形图
    charts = ch('line', '#div1');
    charts.setTitle('心电图')
        .setXAxisSplitLine(true)
        .setYAxisSplitLine(true)
        // .setXAxisInterval(8)
        // .setAxisType('xAxis', 'value')
        .setXAxisFontColor('rgb(125,125,125)')
        .setYAxisFontColor('rgb(125,125,125)')
        // .setXAxisMinAndMax(0, 10)
        .setYAxisMinAndMax(0, 10)
        .setAxisType('xAxis', 'HH:mm:ss')
        // .setAxisType('xAxis', 'yyyy-mm-dd HH:mm:ss')
        // .setXAxisData([5, 4, 19, 15, 16, 20, 31, 1, 5, 4, 20, 15, 40, 28])
        // .setYAxisData([[0,2,3,8,4,7,5,0,9,2,8,3,7,4,0,9,8,3,7,9,4,8,7,9,3,8,7,4,9,2,8,7,0,3,4,7,5,8,0]])
        .setSeries([{data:[['2020-06-12 15:57:01', 4],['2020-06-12 15:57:02', 5],['2020-06-12 15:57:07', 3],['2020-06-12 15:58:07', 7],['2020-06-12 17:58:07', 4],['2020-06-13 17:58:07', 4]]}])
        .setChartInterval(1100)
        .create();
    setInterval(function(){charts.pushPoint([date(), parseInt(10*Math.random())])}, 1001);


    var date = (function() {
        return  new Date().format('yyyy-MM-dd hh:mm:ss');
    });


    Date.prototype.format = function(fmt){
        var o = {
            "M+" : this.getMonth()+1,                 //月份
            "d+" : this.getDate(),                    //日
            "h+" : this.getHours(),                   //小时
            "m+" : this.getMinutes(),                 //分
            "s+" : this.getSeconds(),                 //秒
            "q+" : Math.floor((this.getMonth()+3)/3), //季度
            "S"  : this.getMilliseconds()             //毫秒
        };
        if(/(y+)/.test(fmt))
            fmt=fmt.replace(RegExp.$1, (this.getFullYear()+"").substr(4 - RegExp.$1.length));
        for(var k in o)
            if(new RegExp("("+ k +")").test(fmt))
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : (("00"+ o[k]).substr((""+ o[k]).length)));
        return fmt;
    }

    ch.setDefault("scatter");
    chart2 = ch('scatter', '.div2');
    chart2.setTitle('散点图')
        .legend(['abc', 'def'], {x:'right'})

        .setSeries([{data:[['2020-06-12 15:57:01', 4],['2020-06-12 15:57:02', 5],['2020-06-12 15:57:07', 3],['2020-06-12 15:58:07', 7],['2020-06-12 17:58:07', 4],['2020-06-13 17:58:07', 4]]}])
        .create();

    // 更改默认选项
    // ch.changeDefault('bar', {
    //     title:{
    //         x:'center',
    //         textStyle:{
    //             fontSize:30,
    //             color:'red'
    //         }
    //     },
    //     series:[{
    //         itemStyle:{
    //             normal:{
    //                 color:"lightblue"
    //             }
    //         }
    //     }]
    // });
    //
    // ch('bar', 'li[name=div3]')
    //     .title('柱形图2')
    //     .axis('xAxis', 'value')
    //     .axis('yAxis', ['a', 'b', 'c', 'd', 'e'])
    //     .series([{name:'abc',data:[5,4,6,8,10]}])
    //     .create();
    //
    // //自定义扩展，为了执行链式调用，必须要在function中返回this对象
    // ch.extend('formatter', function(){
    //     this.option.tooltip.formatter = function(params, ticket, callback){
    //         var res = '访问来源 : <br/>' + params.name + params.value;
    //         setTimeout(function (){
    //             // 仅为了模拟异步回调
    //             callback(ticket, res);
    //         }, 1000)
    //         return 'loading';
    //     };
    //     return this;
    // });
    //
    // //设置饼图默认选项
    // ch.setDefault('pie', {
    //     backgroundColor:'rgba(80,140,100,.3)',
    //     calculable:true,
    //     calculableColor:'rgba(0,0,0,0)'
    // },{
    //     title:{
    //         x:'center',
    //         textStyle:{
    //             fontSize:18
    //         }
    //     },
    //     tooltip:{
    //         formatter:'{b}:{c}' + '({d}%)'
    //     },
    //     legend:{
    //         x:'right',
    //         y:35,
    //         orient:'vertical'
    //     }
    // },{
    //     series:[{
    //         center:['50%', '55%'],
    //         radius:[60, 120]
    //     }]
    // });
    //
    // //传入数据生成饼图
    // ch('pie', '.div4')
    //     .title('饼图1')
    //     .legend(['直接访问', '邮件营销', '联盟广告', '视频广告', '搜索引擎'])
    //     .series([
    //         {
    //             name:'访问来源',
    //             data:[
    //                 {value:335, name:'直接访问'},
    //                 {value:310, name:'邮件营销'},
    //                 {value:234, name:'联盟广告'},
    //                 {value:135, name:'视频广告'},
    //                 {value:1548, name:'搜索引擎'}
    //             ]
    //         }
    //     ])
    //     .formatter()
    //     .create();
    //
    // ch.setDefault('map', {
    //     backgroundColor:'#f1f1f1'
    // },{
    //     series:[{
    //         selectedMode : 'multiple',
    //         itemStyle:{
    //             normal:{label:{show:true}},
    //             emphasis:{label:{show:true}}
    //         }
    //     }]
    // });
    // //中国地图
    // ch('map', '#div5')
    //     .title('中国地图')
    //     .series([
    //         {
    //             name: '中国',
    //             mapType: 'china',
    //             data:[
    //                 {name:'广东',selected:true}
    //             ]
    //         }
    //     ]).create();

</script>

</html>
